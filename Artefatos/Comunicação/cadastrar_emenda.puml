@startuml
skinparam linetype ortho
title Comunicação – UC05 Cadastrar Emenda

rectangle Usuario
rectangle Frontend
rectangle EmendaController
rectangle EmendaService
rectangle EmendaRepository
rectangle CidadeRepository

Usuario --> Frontend : 1: preencherDadosEmenda()
Frontend --> EmendaController : 2: POST /emendas
EmendaController --> EmendaService : 3: cadastrarEmenda(dados)

EmendaService --> CidadeRepository : 4: validarCidade(dados.cidadeId)
CidadeRepository --> EmendaService : 5: cidadeOK

EmendaService --> EmendaRepository : 6: salvar(dados)
EmendaRepository --> EmendaService : 7: emendaCriada

EmendaService --> EmendaController : 8: sucesso()
EmendaController --> Frontend : 9: respostaOK()
Frontend --> Usuario : 10: exibirConfirmacao()

@enduml
